---
description: 
globs: 
alwaysApply: true
---
ä½ æ˜¯ä¸€ä¸ªweb3é¡¹ç›®çš„å…¨æ ˆå¼€å‘å¤§å¸ˆï¼Œæœ¬é¡¹ç›®ä¸»è¦è®¾è®¡è¯­è¨€ä¸ºè‹±æ–‡

cursor_rules_ideaproof_v2 = """
# Cursor Project Rules for 'IdeaProof' â€” Blockchain-based Idea Timestamp System

# ğŸ§  é¡¹ç›®ç®€ä»‹
project:
  name: IdeaProof
  purpose: On-chain timestamping system for AI-era idea verification
  network: Solana
  deployment: Devnet â†’ Mainnet
  mvp_focus: Hash + Timestamp + Wallet identity storage

# ğŸ”§ æŠ€æœ¯æ ˆ
stack:
  frontend: Next.js (TypeScript)
  blockchain: Solana
  smart_contract: Anchor (Rust)
  wallet_support: Solana Wallet Adapter (Phantom, Solflare, Backpack, Ledger, Glow, Torus)
  hash_algorithm: SHA-256 (browser-native)
  UI_framework: Tailwind CSS (recommended)

# ğŸ“ æ–‡ä»¶ç»“æ„è§„èŒƒ
structure:
  contracts: /programs/ideaproof
  frontend: /src
  assets: /public/assets
  constants: /src/constants
  styles: /src/styles
  pages: /src/pages
  utils: /src/utils
  components: /src/components

# ğŸ’¡ åŠŸèƒ½ä¸æ¨¡å—çº¦å®š
features:
  record_hash:
    method: front-end hash â†’ on-chain store
    format: string (64 hex characters)
    source: user input (idea)
  wallet_connection:
    provider: Solana Wallet Adapter
    required: true
    supported_wallets:
      - Phantom
      - Solflare
      - Backpack
      - Glow
      - Ledger
      - Torus
  timestamp_source: on-chain `Clock`

# ğŸ” æ™ºèƒ½åˆçº¦è§„èŒƒ
anchor:
  program_name: ideaproof
  entrypoint: record_idea
  account_structure:
    - idea_hash: string
    - submitter: Pubkey
    - timestamp: i64
  validation:
    - max_idea_hash_length: 64
    - must_be_signed: true
    - user_can_query_by_hash_or_pubkey: true

# ğŸ§ª å¼€å‘è§„åˆ™
rules:
  use_named_functions_or_hooks: true
  avoid_anonymous_fns: true
  comment_all TODOs: true
  enforce_typescript: true
  no_bare_fetch: wrap in helpers
  magic_numbers_disallowed: true
  constants_in: /src/constants
  utils_for_repeated_logic: true
  file_size_warning_threshold_kb: 250

# ğŸŒ è·¯ç”±ä¸è·¯å¾„è§„èŒƒ
routing:
  use_relative_or_root_paths: true
  prohibit_full_urls: true
  dev_basePath: /
  prod_basePath: /ideaproof
  vite_base: conditional by NODE_ENV

# ğŸ¨ UI/UX é£æ ¼
design:
  style: Minimalist Web3
  colors:
    primary: "#10b981"
    background: "#0f172a"
    font: "Inter, Roboto, sans-serif"
  interaction_feedback_required: true
  responsive_required: true
  error_states:
    - wallet_disconnected
    - tx_failure
    - hash_empty
    - idea_already_recorded

# ğŸŒ å›½é™…åŒ–ï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰
i18n:
  enabled: false
  plan_for: en, zh, ja, ko
  module: next-i18next (suggested)
  string_access: via t('key')

# ğŸš« ç¦æ­¢é¡¹
prohibited:
  unverified_dependencies: true
  full rewrite of file tree: unless proposal documented
  duplicated business logic: extract to utils
  hardcoded wallet addresses or keys: strictly forbidden
  UI without mobile adaptation: forbidden
  debug code in production commit: forbidden

# âœ… PR æ£€æŸ¥æ¸…å•
pr_checklist:
  - Contract/API å˜åŠ¨å·²è®°å½•
  - å¸¸é‡æŠ½å‡ºï¼Œæ— ç¡¬ç¼–ç 
  - UI ä¸äº¤äº’åé¦ˆå®Œæ•´
  - å¤šé’±åŒ…è¿æ¥æµ‹è¯•é€šè¿‡
  - é”™è¯¯çŠ¶æ€è¦†ç›–å®Œæ•´
  - æ²¡æœ‰é—ç•™è°ƒè¯•ä»£ç 
  - æ‰€æœ‰æäº¤ç¬¦åˆ DRY åŸåˆ™

"""

# ä¿å­˜ä¸º .cursor/rules æ–‡ä»¶
cursor_rules_v2_path = "/mnt/data/.cursor_rules_ideaproof.yaml"
with open(cursor_rules_v2_path, "w") as f:
    f.write(cursor_rules_ideaproof_v2)

cursor_rules_v2_path
